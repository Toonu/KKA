//Radars, descriptions and overall update to new BDA standards.

//TODO Did not balanced turret speeds and other variables, only made the mod use latest BDA functions.

@PART[4K40Termit]:NEEDS[SMA] {
	// Kerbal Space Program - Part Config
	// 
	// 

	// --- general parameters ---
	@module = Part
	@author = Spanner
	@rescaleFactor = 1
	-NODE[Node1] {}
	-NODE[Node2] {}
	-NODE[Node3] {}
	
	NODE {
		name = Node1
		transform = Node1
		size = 0
		method = FIXED_JOINT
	}
	NODE {
		name = Node2
		transform = Node2
		size = 0
		method = FIXED_JOINT
	}
	NODE {
		name = Node3
		transform = Node3
		size = 0
		method = FIXED_JOINT
	}
	@buoyancy = 0
	
	// --- editor parameters ---
	@TechRequired = precisionEngineering
	@entryCost = 2100
	@cost = 950
	@category = none
	@subcategory = 0
	@title = 4K40 Termit
	@manufacturer = SM Armory Missiles
	@description = Raduga 4K40/P-15 "Termit" (SS-N-2) "Styx". This anti-shipping missile was deployed by the Russian Navy.
	
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	@attachRules = 1,1,0,0,1

	// --- standard part parameters ---
	@mass = 2.580
	@dragModelType = default
	@maximum_drag = 0.01
	@minimum_drag = 0.01
	@angularDrag = 2
	@crashTolerance = 30
	@maxTemp = 3600

	-MODULE[MissileLauncher] {}
	-MODULE[BDExplosivePart] {}
	MODULE {
		name = BDExplosivePart
		tntMass = 454
	}
	MODULE {
		name = MissileLauncher
		shortName = 4K40 Termit
		guidanceActive = true
	  
		// --- Targeting ---
		missileType = missile
		homingType = Cruise
		targetingType = radar
		activeRadarRange = 40000
		maxOffBoresight = 180
		lockedSensorFOV = 7
		radarLOAL = true
		
		//Terminal Guidance
		terminalManeuvering = false
		
		// --- Missile specific ---
		CruiseSpeed = 328
		CruisePredictionTime = 15
		CruiseAltitude = 100
		
		// --- Warhead ---
		proxyDetonate = false
		DetonationDistance = 0.1
		
		// --- Propulsion ---
		thrust = 170
		cruiseThrust = 50
		dropTime = 0
		boostTime = 5
		cruiseTime = 300
		cruiseDelay = 0.5
		decoupleSpeed = 10
		decoupleForward = true
		
		// --- Aerodynamics ---
		aero = true
		optimumAirspeed = 328
		liftArea = 0.045
		steerMult = 20
		maxTorque = 150
		maxAoA = 40
		maxTurnRateDPS = 28
		torqueRampUp = 50

		
		// --- Booster & Animation & Sound ---
		decoupleBoosters = true
		boosterMass = 0.3
		boosterDecoupleSpeed = 1
		boostTransformName = BoosterTransform
		rotationTransformName = rotationTransform
		boostExhaustTransformName = boostTransform
		boostExhaustPrefabPath = BDArmory/Models/exhaust/mediumExhaust
		exhaustPrefabPath = BDArmory/Models/exhaust/smallExhaust
		audioClipPath = BDArmory/Sounds/rocketLoop
		boostClipPath = BDArmory/Sounds/rocketLoop
		
		deployAnimationName = TermitAllDeploy
		deployedDrag = 0.02
		deployTime = 3
		
		// --- Engagement Rules --- 
		minStaticLaunchRange = 500
		maxStaticLaunchRange = 40000
		engageAir = false
		engageMissile = false
		engageGround = true
		engageSLW = false
	}

}
@PART[HemittCab2]:NEEDS[SMA] {
	-MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
}
@PART[533Quadtubes]:NEEDS[SMA] {
	@title = 533mm Quad Torpedo Tube
}
@PART[AAV7A1]:NEEDS[SMA] {
	@title = AAVP-7A1
	@description = The Assault Amphibious Vehicle is a fully tracked amphibious landing vehicle manufactured by U.S. Combat Systems.
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
}
@PART[AAV7turret20]:NEEDS[SMA] {
	@title = AAVP-7A1
	@description = AAVP-7A1 20mm turreted machine gun, yeah i know, your eye is twitching, i know it shouldn't be a 20, but really we all know a .50's a waste of time on anything except kerbs and coke cans.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	@MODULE[ModuleWeapon] {
		%shortName = 12.7mm M2HB HMG
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
		
		-bulletDmgMult = x
	}
	@RESOURCE[20x102Ammo] {
		@amount = 900
		@maxAmount = 900
	}
}
@PART[AAVrightArmor]:NEEDS[SMA] {
	@title = AAVP-7A1 Right Armor
}
@PART[AAVleftArmor]:NEEDS[SMA] {
	@title = AAVP-7A1 Left Armor
}
@PART[AAVfwdArmor]:NEEDS[SMA] {
	@title = AAVP-7A1 Frontal Armor
}
@PART[AK100a18]:NEEDS[SMA] {
	@title = AK-100
	@description = The AK-100 system with a A-214 Soviet 100mm naval cannon, with a maximum rate of fire of 60 rounds per minute, firing a 26.8 kg munition in HE anti-air or HE fragmentation varieties. Equipped on patrol ships of project 1135, project 1154, anti-submarine ships of project 1155, nuclear cruiser Admiral Ushakov and Admiral Gorshkov-class frigate.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {	
		%shortName = AK-100
		@weaponType = ballistic	
		
		%engageAir = true
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	@RESOURCE[100mmShells] {
		@amount = 340
		@maxAmount = 340
	}
}
@PART[AK130turret]:NEEDS[SMA] {
	@title = AK-130
	@description = The AK-130 system with a A-217 Russian-built 130mm naval cannon is one of the most powerful gun systems used in the world today, with a maximum rate of fire of 80 rounds per minute, firing a 33 kg munition in HE anti-air or HE fragmentation varieties.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = AK-130
		@weaponType = ballistic	
		@roundsPerMinute = 90
		
		%engageAir = true
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	@RESOURCE[130Shells] {
		@amount = 340
		@maxAmount = 340
	}
}
@PART[AK230]:NEEDS[SMA] {
	@title = AK-230
	@description = The AK-230 is a Soviet fully automatic naval twin 30 mm gun. Its primary function is anti-aircraft. It is mounted in an enclosed automatic turret and directed by radar. AK-230 is widely used on big warships as well as small craft. About 1450 guns were produced in the USSR, and about 300 were produced in China as the Type 69. It was succeeded by the more powerful AK-630 from the mid-to-late 1970s.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 30mm AK-230
		@weaponType = ballistic	
		@roundsPerMinute = 1000
		
		%engageAir = true
		%engageMissile = true
		%engageGround = false
		%engageSLW = false
	}
	@RESOURCE[30x173Ammo] {
		@amount = 2000
		@maxAmount = 2000
	}
}
@PART[AK639QB1]:NEEDS[SMA] {
	@title = AK-630
	@description = The AK-630/A-213 is a Soviet and Russian fully automatic naval close-in weapon system based on a six-barreled 30 mm АО-18/GSh-6-30K rotary cannon. In "630", "6" means 6 barrels and "30" means 30 mm. The system's primary purpose is defense against anti-ship missiles and other precision guided weapons. However it can also be employed against fixed or rotary wing aircraft, ships and other small craft, coastal targets, and floating mines.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 30mm AK-630
		@weaponType = ballistic
		
		%engageAir = true
		%engageMissile = true
		%engageGround = false
		%engageSLW = false
	}
	@RESOURCE[30x173Ammo] {
		@amount = 2000
		@maxAmount = 2000
	}

}
@PART[AK230LowPlinth]:NEEDS[SMA] {
	@title = AK-230/630 Low Plinth
	@RESOURCE[30x173Ammo] {
		@maxAmount = 1000
	}
}
@PART[AK230tallPlinth]:NEEDS[SMA] {
	@title = AK-230/630 Tall Plinth
	@RESOURCE[30x173Ammo] {
		@maxAmount = 1000
	}
}
@PART[APC30Cg2A42]:NEEDS[SMA] {
	@title = 2A42 TKB-648
	@description = Shipunov 2A42 TKB-648 30mm automatic cannon is a Soviet/Russian gun used on BMP-2, BMP-3, BMD as well as BTR series of APCs and Attack Helicopters.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 30mm 2A42 Autocannon
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	
	@RESOURCE[30x165Ammo] {
		@amount = 500
		@maxAmount = 500
	}
}
@PART[BareBoxChassis]:NEEDS[SMA] {
	-MODULE[SMtextureswitch2] {}
	-MODULE[ModuleDataTransmitter] {}
}
@PART[BareBoxChassisLW]:NEEDS[SMA] {
	-MODULE[SMtextureswitch2] {}
	-MODULE[ModuleDataTransmitter] {}
}
@PART[BareBoxChassisType2BExact]:NEEDS[SMA] {
	-MODULE[SMtextureswitch2] {}
	-MODULE[ModuleDataTransmitter] {}
}
@PART[TankBoxChassisType5]:NEEDS[SMA] {
	-MODULE[SMtextureswitch2] {}
	-MODULE[ModuleDataTransmitter] {}
}
@PART[BMP75mmTurret]:NEEDS[SMA] {
	@title = BMP-1
	@description = BMP-1 or Object 765 is a Soviet amphibious tracked infantry fighting vehicle with 73 mm 2A28 "Grom" low pressure smoothbore semi-automatic gun usually equipped with ATGMs and full of trained soviet soldiers.
	
	@MODULE[ModuleWeapon] {
		%shortName = 73mm 2A28 Grom
		@bulletType = 76.2MMMHEATFS
		@weaponType = ballistic
	}
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	
	@RESOURCE[76x636Ammo] {
		@amount = 40
		@maxAmount = 40
	}
}
@PART[BradleyActive]:NEEDS[SMA] {
	@title = M2 Bradley
	@description = The M2 Bradley is an American infantry fighting vehicle that is a member of the Bradley Fighting Vehicle family. It is manufactured by BAE Systems Land & Armaments, which was formerly United Defense. The Bradley is designed for reconnaissance and to transport a squad of infantry, providing them protection from small arms fire, while also providing firepower to both suppress and eliminate most threats to friendly infantry. This turret uses, as per specification, BDA BGM-71 Tow Missile. Use of other missiles automatically invalidates your warranty. Use of other missiles may also result in R.U.D and possibly a scratch or bruise, maybe two. Please observe the safety instructions on the missile in the latest low observability microfont weight saving ink.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 25mm M242 Chain gun
		@weaponType = ballistic
		
		%engageAir = true
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[RadarWarningReceiver] {}
	
	@RESOURCE[25x137Ammo] {
		@amount = 900
		@maxAmount = 900
	}
}
@PART[BradleyHull]:NEEDS[SMA] {
	@title = M2 Bradley
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	-MODULE[RadarWarningReceiver] {}
	-MODULE[ModuleCommand] {}
}
@PART[BradleyRightArmorUpper]:NEEDS[SMA] {
	@title = M2 Bradley Armor Right
}
@PART[BradleyLeftArmorUpper]:NEEDS[SMA] {
	@title = M2 Bradley Armor Left
}
@PART[BradleyRightArmorLower]:NEEDS[SMA] {
	@title = M2 Bradley Armor Right
}
@PART[BradleyLeftArmorLower]:NEEDS[SMA] {
	@title = M2 Bradley Armor Left
}
@PART[Eland90BHull]:NEEDS[SMA] {
	@title = Eland 90B
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	-MODULE[RadarWarningReceiver] {}
	-MODULE[JSIExternalCameraSelector]:NEEDS[!JSI] {}
}
@PART[Eland90BTurret]:NEEDS[SMA] {
	@title = Eland 90B
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 90mm Denel GT-2
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[JSIExternalCameraSelector]:NEEDS[!JSI] {}
	
	@RESOURCE[90mmShells] {
		@amount = 29
		@maxAmount = 29
	}
}
@PART[FV510Hull]:NEEDS[SMA] {
	@title = FV 510 Warrior
	@description = The Warrior tracked vehicle family is a series of British armoured vehicles, originally developed to replace the older FV430 series of armoured vehicles. Warrior was accepted for service with the British Army in November 1984.
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	-MODULE[RadarWarningReceiver] {}
	-MODULE[JSIExternalCameraSelector]:NEEDS[!JSI] {}
}
@PART[FV510Turret]:NEEDS[SMA] {
	@title = FV 510 Warrior
	@description = The Warrior tracked vehicle family is a series of British armoured vehicles featuring a 30 mm L21A1 RARDEN cannon, originally developed to replace the older FV430 series of armoured vehicles. Warrior was accepted for service with the British Army in November 1984.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@RESOURCE[30x173Ammo] {
		@amount = 228
		@maxAmount = 228
	}
	@MODULE[ModuleWeapon] {
		%shortName = 30mm L21A1 RARDEN cannon
		@weaponType = ballistic
		
		%engageAir = true
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[RadarWarningReceiver] {}
	
}
@PART[HaulerCab]:NEEDS[SMA] {
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleReactionWheel] {}
}
@PART[HTUcab]:NEEDS[SMA] {
	-MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
	-MODULE[ModuleDataTransmitter] {}
}
@PART[Humvee]:NEEDS[SMA] {
	@title = HMMWV
	-MODULE[ModuleRadar] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	-MODULE[RadarWarningReceiver] {}
}
@PART[mk19Turret]:NEEDS[SMA] {
	@title = Mk. 19 Grenade launcher
    @description = The Mk 19 grenade launcher is an American 40 mm belt-fed automatic grenade launcher that was first developed during the Vietnam War.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 40mm Mk. 19 Grenade launcher
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
}
@PART[HVUA30CG]:NEEDS[SMA] {
	@title = GAU-19/A
    @description = The GAU-19/A (GECAL 50) is an electrically-driven, three-barrel rotary heavy machine gun that fires the .50 BMG (12.7×99mm) cartridge.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@MODULE[ModuleWeapon] {
		%shortName = 12.7mm GAU-19/A
		@weaponType = ballistic
		
		%bulletType = 12.7x99mmBullet
		-bulletMass = a
		-bulletVelocity = a
		@ammoName = 50CalAmmo
		
		%engageAir = true
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	
	@RESOURCE[30x173Ammo] {
		@name = 50CalAmmo
		@amount = 500
		@maxAmount = 500
	}
}
@PART[KUB2K12]:NEEDS[SMA] {
	@title = 2K12 Kub Hull
	@description = MMZ 2K12 "Kub" (SA-6) "Gainful" mobile surface-to-air missile system is a Soviet low to medium-level air defence system designed to protect ground forces from air attack. Each 2K12 battery consisted of a number of similar tracked vehicles, one of which carries 25 kW G/H band radar. The battery usually also includes four triple-missile transporter erector launchers (TELs), and four trucks, each carrying three spare missiles and a crane.
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
}
@PART[KUB2K12launcher]:NEEDS[SMA] {
	@title = 2K12 Kub
	@description = MMZ 2K12 "Kub" (SA-6) "Gainful" mobile surface-to-air missile system is a Soviet low to medium-level air defence system designed to protect ground forces from air attack. Each 2K12 battery consisted of a number of similar tracked vehicles, one of which carries 25 kW G/H band radar. The battery usually also includes four triple-missile transporter erector launchers (TELs), and four trucks, each carrying three spare missiles and a crane.
}
@PART[Leopard2A6]:NEEDS[SMA] {
	@title = Leopard 2A6
    @description = The Leopard 2A6 introduced in 2007 includes the addition of the Rheinmetall 120 mm L/55 smoothbore gun and other changes.
	MODULE {
		name = ModuleCASE
		CASELevel = 2
	}
	@MODULE[ModuleWeapon] {
		%shortName = 120mm L/55
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	
	@RESOURCE[120mmAmmo] {
		@amount = 42
		@maxAmount = 42
	}
}
@PART[M1SMA]:NEEDS[SMA] {
	@title = M1A1 Abrams
	@description = The M1 Abrams is a third-generation American main battle tank designed by Chrysler Defense. M1A1 production started in 1985 and continued to 1992. It featured a new pressurized NBC system, rear bustle rack for improved stowage of supplies and crew belongings, redesigned blow-off panels and M256 120 mm smoothbore cannon.
	MODULE {
		name = ModuleCASE
		CASELevel = 2
	}
	@MODULE[ModuleWeapon] {
		%shortName = 120mm M256
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	@RESOURCE[120mmAmmo] {
		@amount = 40
		@maxAmount = 40
	}
}
@PART[M1SM1Turret]:NEEDS[SMA] {
	@title = M1 Abrams
	@description = The M1 Abrams is a third-generation American main battle tank designed by Chrysler Defense. M1A1 production started in 1985 and continued to 1992. M1 was the first production variant. Production began in 1979 and continued to 1985. It featured 105 mm L/52 M68A1 rifled gun with 55 shells.
	MODULE {
		name = ModuleCASE
		CASELevel = 1
	}
	@MODULE[ModuleWeapon] {
		%shortName = 105mm L/52 M68A1
		@weaponType = ballistic
		
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	@RESOURCE[120mmAmmo] {
		@amount = 55
		@maxAmount = 55
	}
}
@PART[M113Hull]:NEEDS[SMA] {
	@title = M113 APC
	@description = The M113 is a fully tracked armored personnel carrier that was developed and produced by the Food Machinery and Chemical Corporation. It was largely known as an "APC" or an "ACAV" (armored cavalry assault vehicle) by the allied forces.
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	-MODULE[RadarWarningReceiver] {}
}
@PART[M113GunTurret]:NEEDS[SMA] {
	@title = M240E1 GPMG
    @description = The M240, officially the Machine Gun, 7.62 mm, M240, is the U.S. military designation for the FN MAG belt-fed, gas-operated medium machine guns. The M240 has been used extensively by infantry, most often in rifle companies, as well as on ground vehicles, watercraft and aircraft.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	
	@MODULE[ModuleWeapon] {
		%shortName = 7.62mm M240E1
		@weaponType = ballistic
		
		-bulletMass = 4.25e-4
		-bulletVelocity = 883
		@ammoName = 7.7x56Ammo
		@bulletType = 7.7x56RmmBullet
	
		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	
	@RESOURCE[30x173Ammo] {
		@name = 7.7x56Ammo
	}
	
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
}
@PART[M163VADS]:NEEDS[SMA] {
    @MODULE[ModuleRadar] {
		@directionalFieldOfView = 35
		@scanRotationSpeed = 40
		@canScan = false
		-radarDetectionCurve {}
		-radarLockTrackCurve {}
	
	 	radarLockTrackCurve {
            key = 0 0 0 1.191601
            key = 4 10 6.903669 6.989554
            key = 5 20 10.53343 11.25173
        } 
    }
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	
	@MODULE[ModuleWeapon] {
		%shortName = 20 mm M61
		@weaponType = ballistic
		
		%engageAir = true
		%engageMissile = false
		%engageGround = false
		%engageSLW = false
	}
	
	@RESOURCE[20x102Ammo] {
		@amount = 2100
		@maxAmount = 2100
	}
}
@PART[AFVFlareCM]:NEEDS[SMA] {
    @title = Flare dispenser.
	@RESOURCE[CMFlare] {
		@amount = 12
		@maxAmount = 12
		@name = CMSmoke
	}
}
+PART[AFVFlareCM]:NEEDS[SMA] {
	@name = AFVSmokeCM
	@title = Smoke dispenser.
	@MODULE[CMDropper] {
		@countermeasureType = smoke
		@ejectVelocity = 8
	}
	@RESOURCE[CMFlare] {
		@name = CMSmoke
	}
}
@PART[MissileErektor]:NEEDS[SMA] {
    @title = 9P117 Strategic Missile Launcher.
    @description = A 9P117 self-propelled launcher used on the TRK 9K72/MAZ-543 "Uragan" launch vehicle chassis for standing up and firing large ballistic style missiles.
}
@PART[SkudD]:NEEDS[SMA] {
    @title = 8A61 Zemlya
    @description = The OKB-1 8A61/R-11 "Zemlya" (SS-1B) "Scud" was a Soviet tactical ballistic missile launched from the 9P117 launcher. It was the first of several similar Soviet missiles to be given the reporting name Scud.
	
	-MODULE[TweakScale] {}
	
	MODULE {
		name = BDExplosivePart
		tntMass = 535
	}
	
	@MODULE[MissileLauncher] {
		@shortName = 8A61 Zemlya
		-useSimpleDrag = true
		-simpleCoD = 0,0,-8
		-blastRadius = 50
		-blastPower = 35
		-blastHeat = 42
	}
}
@PART[MK141GMLS]:NEEDS[SMA] {
    @title = Mk. 141 GMLS
    @description = The OKB-1 8A61/R-11 "Zemlya" (SS-1B) "Scud" was a Soviet tactical ballistic missile. It was the first of several similar Soviet missiles to be given the reporting name Scud.
}
@PART[M1070]:NEEDS[SMA] {
    -MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
}
@PART[OShkoshCab]:NEEDS[SMA] {
    -MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
}
@PART[P1KSLT]:NEEDS[SMA] {
    @title = PU CM-248 Launcher
    @description = The PU CM-248 Launcher created solely for the purpose of arming ships with the P-1000 Vulkan or other similar sized missiles.  Warranty void if anything except missiles are mounted.  To enable the turret, select the mounted missile from the weapon manager.
}
@PART[P1K2SLT]:NEEDS[SMA] {
    @title = PU CM-248 Launcher
    @description = The PU CM-248 Launcher created solely for the purpose of arming ships with the P-1000 Vulkan or other similar sized missiles.  Warranty void if anything except missiles are mounted.  To enable the turret, select the mounted missile from the weapon manager.
	-MODULE[ModuleVLSLauncher] {}
}
@PART[AFVeraSkirtMK1]:NEEDS[SMA] {
    @title = ERA Skirt
	@MODULE[HitpointTracker] {
		@HitPoints = 30000
		@maxHitPoints = 30000
		@Armor = 200
		@ArmorThickness = 200
		@ExplodeMode = Never
	}
}
@PART[ReactivePanelPrototype]:NEEDS[SMA] {
    @title = ERA Panel
	@MODULE[HitpointTracker] {
		@HitPoints = 9000
		@maxHitPoints = 9000
		@Armor = 200
		@ArmorThickness = 200
		@ExplodeMode = Never
	}
}
@PART[ReactivePanelPrototypeS]:NEEDS[SMA] {
	@title = ERA Panel
	@MODULE[HitpointTracker] {
		@HitPoints = 9000
		@maxHitPoints = 9000
		@Armor = 200
		@ArmorThickness = 200
		@ExplodeMode = Never
	}
}
@PART[S125NevaMissile]:NEEDS[SMA] {
	// Kerbal Space Program - Part Config
	//
	//

	// --- general parameters ---
	@module = Part
	@author = Spanner
	@rescaleFactor = 1

	-NODE[Node1] {}
	-NODE[Node2] {}
	NODE {
		name = Node1
		transform = Node1
		size = 0
		method = FIXED_JOINT //FIXED_JOINT, HINGE_JOINT, LOCKED_JOINT, MERGED_PHYSICS or NO_PHYSICS
	}
	NODE {
		name = Node2
		transform = Node2
		size = 0
		method = FIXED_JOINT //FIXED_JOINT, HINGE_JOINT, LOCKED_JOINT, MERGED_PHYSICS or NO_PHYSICS
	}
	
	// --- editor parameters ---
	@TechRequired = precisionEngineering
	@entryCost = 2100
	@cost = 950
	@category = none
	@bdacategory = Missiles
	@subcategory = 0
	@title = 5V24 Neva
	@manufacturer = SM Armory Missiles
	@description = 5V24 "Neva" (SA-3) "Goa" Surface-to-Air missile of the S-125 System. 
	
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	@attachRules = 1,1,0,0,1
	
	// --- standard part parameters ---
	@mass = 0.953
	@dragModelType = default
	@maximum_drag = 0.01
	@minimum_drag = 0.01
	@angularDrag = 2
	@crashTolerance = 5
	@maxTemp = 3600
	-MODULE[MissileLauncher] {}
	-MODULE[BDExplosivePart] {}
	
	MODULE {
		name = MissileLauncher
		shortName = 5V24 Neva
		guidanceActive = true
		
		// --- Targeting ---
		missileType = missile
		homingType = aam
		targetingType = radar
		activeRadarRange = 8000
		maxOffBoresight = 90
		lockedSensorFOV = 7
		radarLOAL = true
		
		//Terminal Guidance
		
		// --- Missile specific ---
		
		// --- Warhead ---
		proxyDetonate = true
		DetonationDistance = 10
	  
		// --- Propulsion ---
		thrust = 90
		cruiseThrust = 22 
		dropTime = 0
		boostTime = 2.6
		cruiseTime = 18.7
		decoupleSpeed = 5
		decoupleForward = true
		
		// --- Aerodynamics ---
		aero = true
		optimumAirspeed = 775
		liftArea = 0.003
		steerMult = 8
		maxTorque = 80
		maxAoA = 14
		maxTurnRateDPS = 3
		torqueRampUp = 100
	  
		// --- Booster & Animation & Sound ---
		decoupleBoosters = true
		boosterMass = 0.150
		boosterDecoupleSpeed = 7
		boostTransformName = boosterTransform
		rotationTransformName = rotationTransform
		boostExhaustTransformName = boostTransform
		boostExhaustPrefabPath = BDArmory/Models/exhaust/mediumExhaust		
		exhaustPrefabPath = BDArmory/Models/exhaust/smallExhaust
		audioClipPath = BDArmory/Sounds/rocketLoop
		boostClipPath = BDArmory/Sounds/rocketLoop
		
		deployAnimationName = SA3deploy
		deployedDrag = 0.011
		deployTime = 0.35
		
		// --- Engagement Rules --- 
		minStaticLaunchRange = 1000
		maxStaticLaunchRange = 15000
		engageAir = true
		engageMissile = false
		engageGround = false
		engageSLW = false
	}
	MODULE {
		name = BDExplosivePart
		tntMass = 60
	}
}
@PART[S125Launcher]:NEEDS[SMA] {
	@title = 5V24 System-125 TEL
	@description = A turret capable of holding and firing up to 2 missiles. Warranty void if anything except missiles are mounted. To enable the turret, select the mounted missile from the weapon manager.
}
@PART[ShilkaZSU234turret]:NEEDS[SMA] {
	@title = 2A6 ZSU-23-4 Shilka
	@description = The 2A6 ZSU-23-4 "Shilka" four 23 mm autocannons, radar guided Anti-aircraft gun, also effective at destroying light ground targets and parts of larger vehicles. It uses 1RL33 (RPK-2 "Tobol") Radar.
    @MODULE[ModuleRadar] {
		@radarName = 1RL33 (RPK-2 "Tobol") Radar
		@directionalFieldOfView = 60
		@scanRotationSpeed = 20
		-radarDetectionCurve {}
		-radarLockTrackCurve {}
		
	    radarDetectionCurve {
            key = 0 0 0 1.191601
            key = 9 10 1.51575 1.561383
            key = 16 20 1.525667 2.503766
        } 
	
	 	radarLockTrackCurve {
            key = 0 0 0 2.961521
            key = 3 10 4.145666 4.73561
            key = 5 20 4.423522 2.503766
        } 
    }
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[ModuleDataTransmitter] {}
	-MODULE[ModuleKerbNetAccess] {}
	-MODULE[MissileFire] {}
	
	@MODULE[ModuleWeapon] {
		%shortName = 23mm AZP-23 "Amur" quad AA gun
		@weaponType = ballistic
		
		@bulletType = 23x152mmHEBullet
		@roundsPerMinute = 1000
		@heatPerShot = 10

		%engageAir = true
		%engageMissile = false
		%engageGround = false
		%engageSLW = false
	}
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	@RESOURCE[23x152Ammo] {
		@amount = 2000
		@maxAmount = 2000
	}
}
@PART[ShilkaZSUHull]:NEEDS[SMA] {
	@title = 2A6 ZSU-23-4 Shilka Hull
	@description = The Object 575 chassis GM-575 of the 2A6 ZSU-23-4 "Shilka" SPAAG.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	RESOURCE[23x152Ammo] {
		amount = 1000
		maxAmount = 1000
	}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
}
@PART[Strik1B]:NEEDS[SMA] {
    -MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
}
@PART[Strik2B]:NEEDS[SMA] {
    -MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
}
@PART[SMsT80Turret]:NEEDS[SMA] {
	@title = T-80B
	@description = T-80B or Object 219R is a Russian Federation main battle tank equipped with 125mm 2A46-2 smoothbore gun.
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
    -MODULE[ModuleSAS] {}
	-MODULE[ModuleReactionWheel] {}
	
	@MODULE[ModuleWeapon] {
		%shortName = 125mm 2A46-2
		@weaponType = ballistic
		
		@bulletType = 3BM22HEATFS; 3BM22APFSDS

		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	
	@RESOURCE[120mmAmmo] {
		@amount = 36
		@maxAmount = 36
	}
}
@PART[T90MS]:NEEDS[SMA] {
	@title = T-90AM
	@description = T-90AM or Object 188AM is a Russian Federation main battle tank equipped with 125mm 2A46M-5 smoothbore gun.
	-MODULE[ModuleReactionWheel] {}
	-RESOURCE[CMSmoke] {}
	-MODULE[CMDropper] {}
	-MODULE[JSIExternalCameraSelector]:NEEDS[!JSI] {}
	
	@MODULE[ModuleWeapon] {
		%shortName = 125mm 2A46M-5
		@weaponType = ballistic
		@bulletType = 3BM22HEATFS; 125MM-APFSDS

		%engageAir = false
		%engageMissile = false
		%engageGround = true
		%engageSLW = false
	}
	
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	
	@RESOURCE[120mmAmmo] {
		@amount = 42
		@maxAmount = 42
	}
}
@PART[SMTunguskaAAMT]:NEEDS[SMA]:AFTER[SMA] {
	@title = 2K22 Tunguska
	@description = KBP 2K22/2S6 "Tunguska" (SA-19) "Grison" is a Russian tracked self-propelled anti-aircraft weapon armed with a surface-to-air gun and missile system. It is designed to provide day and night protection for infantry and tank regiments against low-flying aircraft, helicopters, and cruise missiles in all weather conditions.
	
	MODULE {
		name = ModuleCASE
		CASELevel = 0
	}
	
	@RESOURCE[30x165Ammo] {
		amount = 1904
		maxAmount = 1904
	}
	
	@MODULE[ModuleWeapon] {
		%shortName = 30 mm 2А38M
		@weaponType = ballistic
		
		%bulletType = 30mm3UOF8
		-bulletMass = a
		-bulletVelocity = a
		-startColor = a
		-nonTracerWidth = a
		-projectileColor = a

		@heatPerShot = 44
		%engageAir = true
		%engageMissile = false
		%engageGround = false
		%engageSLW = false
	}
}
@PART[SMA57E6BGM]:NEEDS[SMA] {
	@title = 9M335 Pantsir
	@description = KBP 9M335/57E6 Surface-to-Air missile of the 96K6 "Pantsir-S1" (SA-22) "Greyhound" system is a two-stage solid fuel radio/optical command-guided missile in service from 2012 in Russian Federation Armed Forces.
	@MODULE[MissileLauncher] {
		@shortName = 9M335 Pantsir
	}
}
